<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Defining your SEQopts() • SEQuential</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Defining your SEQopts()">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SEQuential</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.11.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/SEQuential.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/censoring.html">Per-Protocol: Censoring Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/doseresponse.html">Per-Protocol: Dose-Response Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/ITT.html">Intention-To-Treat Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/seqopts.html">Defining your SEQopts()</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Defining your SEQopts()</h1>
            
      

      <div class="d-none name"><code>seqopts.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="behind-seqopts">Behind SEQopts()<a class="anchor" aria-label="anchor" href="#behind-seqopts"></a>
</h2>
<p><code><a href="../reference/SEQopts.html">SEQopts()</a></code> provides the primary API to changing internal
options of <code><a href="../reference/SEQuential.html">SEQuential()</a></code>. While the documentation should go
over their use, we will expand on them here in greater detail:</p>
<div class="section level3">
<h3 id="the-options">The options<a class="anchor" aria-label="anchor" href="#the-options"></a>
</h3>
<div class="section level4">
<h4 id="general-options">General Options<a class="anchor" aria-label="anchor" href="#general-options"></a>
</h4>
<table class="table">
<colgroup>
<col width="16%">
<col width="50%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th>Option Name</th>
<th>Description</th>
<th>Input Type</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>bootstrap</td>
<td>Whether bootstrapping should take place</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>bootstrap.nboot</td>
<td>Number of bootstraps to run in addition to the full model</td>
<td>Integer</td>
<td>100L</td>
</tr>
<tr class="odd">
<td>bootstrap.sample</td>
<td>Subsample of data to use when bootstrapping</td>
<td>Float [0, 1]</td>
<td>0.8</td>
</tr>
<tr class="even">
<td>calculate.var</td>
<td>Whether to calculate the robust standard errors for the outcome
model</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>compevent</td>
<td>Column name for competing event variable</td>
<td>Char</td>
<td>“LTFU”</td>
</tr>
<tr class="even">
<td>covariates</td>
<td>If provided, forces covariates for outcome models</td>
<td>Char</td>
<td>“X1+X2*X3+X4”</td>
</tr>
<tr class="odd">
<td>data.return</td>
<td>Whether to return expanded data as output</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>followup.class</td>
<td>Whether to expand followup values to an indicator matrix</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>followup.include</td>
<td>Whether to include ‘followup’ and ‘followup^2’ in outcome
models</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>followup.max</td>
<td>Maximum value of followup per trial</td>
<td>Numeric</td>
<td>60</td>
</tr>
<tr class="odd">
<td>followup.min</td>
<td>Minimum value of followup per trial</td>
<td>Numeric</td>
<td>0</td>
</tr>
<tr class="even">
<td>followup.spline</td>
<td>Whether to format followup values to a spline</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>hazard</td>
<td>Whether to estimate the hazard ratio</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="even">
<td>km.curves</td>
<td>Whether to estimate kaplan meier survival curves and data</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>multinomial</td>
<td>Whether to expect more than 2 treatment types</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="even">
<td>ncores</td>
<td>Number of cores to use in parallel multisession</td>
<td>Integer</td>
<td>8L</td>
</tr>
<tr class="odd">
<td>nthreads</td>
<td>Number of threads to use for data.table manipulations</td>
<td>Integer</td>
<td>16L</td>
</tr>
<tr class="even">
<td>parallel</td>
<td>Whether the bootstrapping should be run in parallel</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>seed</td>
<td>Starting seed for random number generators</td>
<td>Integer</td>
<td>1636</td>
</tr>
<tr class="even">
<td>selection.first_trial</td>
<td>Selects only the first eligible trial in the expanded dataset</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>selection.prob</td>
<td>Subsample of total IDs to select</td>
<td>Float [0, 1]</td>
<td>0.8</td>
</tr>
<tr class="even">
<td>selection.random</td>
<td>Whether to randomly select IDs with replacement to run analysis</td>
<td>Boolean</td>
<td>FALSE</td>
</tr>
<tr class="odd">
<td>subgroup</td>
<td>Column name for subgroup analysis</td>
<td>Char</td>
<td>“sex”</td>
</tr>
<tr class="even">
<td>survival.max</td>
<td>Maximum value for Risk/Survival curves</td>
<td>Numeric</td>
<td>60</td>
</tr>
<tr class="odd">
<td>treat.level</td>
<td>Treatment levels to compare</td>
<td>List</td>
<td>list(0, 1)</td>
</tr>
<tr class="even">
<td>trial.include</td>
<td>Whether to include ‘trial’ and ‘trial^2’ in outcome models</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="weighting-options">Weighting Options<a class="anchor" aria-label="anchor" href="#weighting-options"></a>
</h4>
<p>In general these only affect analytic methods of ‘dose-response’ and
‘censoring’. However, providing <code>cense</code> will allow ITT to be
weighted in the case of a censoring variable like loss-to-followup.</p>
<table class="table">
<colgroup>
<col width="16%">
<col width="50%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th>Option Name</th>
<th>Description</th>
<th>Input Type</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>cense</td>
<td>Column name for censoring variable</td>
<td>Char</td>
<td>“LTFU”</td>
</tr>
<tr class="even">
<td>cense.denominator</td>
<td>If provided, forces denominator covariates for censoring models</td>
<td>Char</td>
<td>“A1+A2*A3+A4”</td>
</tr>
<tr class="odd">
<td>cense.eligible</td>
<td>Column name for indicator column defining which rows to use for
censoring model</td>
<td>Char</td>
<td>“eligible_cense”</td>
</tr>
<tr class="even">
<td>cense.numerator</td>
<td>If provided, forces numerator covariates for censoring models</td>
<td>Char</td>
<td>“Z1+Z2*Z3+Z4”</td>
</tr>
<tr class="odd">
<td>denominator</td>
<td>If provided, forces denominator covariates for weight models</td>
<td>Char</td>
<td>“C1+C2*C3+B4”</td>
</tr>
<tr class="even">
<td>numerator</td>
<td>If provided, forces numerator covariates for weight models</td>
<td>Char</td>
<td>“B1+B2*B3+B4”</td>
</tr>
<tr class="odd">
<td>weight.eligible</td>
<td>List of columns for eligibility in weight models with certain
treatment values</td>
<td>List</td>
<td>list(‘we1’, we2’)</td>
</tr>
<tr class="even">
<td>weight.eligible_cols</td>
<td>List of column names for indicator columns defining which weights
are eligible for weight models</td>
<td>List</td>
<td>list(“eligible1”, “eligible2”)</td>
</tr>
<tr class="odd">
<td>weight.lag_condition</td>
<td>Whether weights should be conditioned on treatment lag value</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>weight.lower</td>
<td>Lower truncation for weight values</td>
<td>Float</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td>weight.p99</td>
<td>Whether to truncate weights at the 99% percentile</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>weight.preexpansion</td>
<td>Whether weighting should be done on pre-expanded data</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>weight.upper</td>
<td>Upper truncation for weight values</td>
<td>Float</td>
<td>1.0</td>
</tr>
<tr class="even">
<td>weighted</td>
<td>Whether the analysis should be weighted</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="plot-options-km-curves-true">Plot Options (km.curves = TRUE)<a class="anchor" aria-label="anchor" href="#plot-options-km-curves-true"></a>
</h4>
<p>All of these can be changed after SEQuential has finished analysis -
if you forget to add them, no need to stop and restart. Additionally,
SEQuential will output the data used for the plot if you would like to
customize it yourself through your preferred plotting software.</p>
<table class="table">
<colgroup>
<col width="19%">
<col width="42%">
<col width="19%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th>Option Name</th>
<th>Description</th>
<th>Input Type</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>plot.colors</td>
<td>Figure colors for output plot</td>
<td>List</td>
<td>list(“red”, “blue”)</td>
</tr>
<tr class="even">
<td>plot.labels</td>
<td>Legend labels for output plot</td>
<td>List</td>
<td>list(“Tx 0”, “Tx 1”)</td>
</tr>
<tr class="odd">
<td>plot.subtitle</td>
<td>Subtitle for plot output</td>
<td>Char</td>
<td>“My Plot Subtitle”</td>
</tr>
<tr class="even">
<td>plot.title</td>
<td>Title for plot output</td>
<td>Char</td>
<td>“My Plot Title”</td>
</tr>
<tr class="odd">
<td>plot.type</td>
<td>Type of output plot (“survival”, “risk”, “inc”)</td>
<td>Char</td>
<td>“survival”</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="special-cases">Special Cases<a class="anchor" aria-label="anchor" href="#special-cases"></a>
</h4>
<table class="table">
<colgroup>
<col width="19%">
<col width="42%">
<col width="19%">
<col width="19%">
</colgroup>
<thead><tr class="header">
<th>Option Name</th>
<th>Description</th>
<th>Input Type</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>deviation</td>
<td>Create switch based on deviation from column</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="even">
<td>deviation.col</td>
<td>Column name for deviation</td>
<td>Char</td>
<td>“deviation_var”</td>
</tr>
<tr class="odd">
<td>deviation.conditions</td>
<td>RHS evaluations of the same length as treat.levels</td>
<td>List</td>
<td>list(“&gt;3”, “==1”)</td>
</tr>
<tr class="even">
<td>deviation.excused</td>
<td>Whether deviations should be excused by deviation.excused_cols</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>deviation.excused_cols</td>
<td>Excused columns for deviation switches</td>
<td>List</td>
<td>list(“excuse1”, “excuse2”)</td>
</tr>
<tr class="even">
<td>excused</td>
<td>When censoring, whether there is an excused condition</td>
<td>Boolean</td>
<td>TRUE</td>
</tr>
<tr class="odd">
<td>excused.cols</td>
<td>List of column names for treatment switch excuses</td>
<td>List</td>
<td>list(“excuse1”, “excuse2”)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level4">
<h4 id="internal-options">Internal Options<a class="anchor" aria-label="anchor" href="#internal-options"></a>
</h4>
<p>These are internal options that change output name of covariates or
the decomposition method when estimating coefficients.</p>
<table class="table">
<colgroup>
<col width="16%">
<col width="50%">
<col width="16%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th>Option Name</th>
<th>Description</th>
<th>Input Type</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>fastglm.method</td>
<td>Method for decomposition by fastglm</td>
<td>Integer</td>
<td>3L</td>
</tr>
<tr class="even">
<td>indicator.baseline</td>
<td>Identifier for baseline variables</td>
<td>Char</td>
<td>“_bas”</td>
</tr>
<tr class="odd">
<td>indicator.squared</td>
<td>Identifier for squared variables</td>
<td>Char</td>
<td>“_sq”</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryan O’Dea, Alejandro Szmulewicz, Miguel Hernan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
